[workspace]
changelog_update = true
git_release_enable = false
git_tag_enable = false
pr_name = "chore(release): prepare release"
pr_labels = ["release"]
pr_branch_prefix = "release-plz-"
pr_draft = false
release_always = false
dependencies_update = true
release_commits = "^(feat|fix|perf|refactor|docs|ci|chore)(\\(|:)"
pr_body = """
## ðŸ¤– Release Preparation

This PR is generated by release-plz.

{% for release in releases %}
- **{{ release.package }}**: {% if release.previous_version and release.previous_version != release.next_version %}{{ release.previous_version }} -> {% endif %}{{ release.next_version }}
{% endfor %}

{% for release in releases %}
{% if release.changelog %}
### {{ release.package }} changelog
{{ release.changelog }}
{% endif %}
{% endfor %}
"""

[changelog]
protect_breaking_commits = true
sort_commits = "newest"
tag_pattern = "v[0-9].*"
commit_preprocessors = [
	{ pattern = "Merge pull request #([0-9]+) from [^ ]+", replace = "PR #$1:" },
	{ pattern = "\\(#([0-9]+)\\)", replace = "[#${1}]" },
]
link_parsers = [
	{ pattern = "#([0-9]+)", href = "https://github.com/recregt/kars_bot/pull/$1" },
]
commit_parsers = [
	{ message = "^feat", group = "Added" },
	{ message = "^fix", group = "Fixed" },
	{ message = "^docs", group = "Documentation" },
	{ message = "^refactor", group = "Changed" },
	{ message = "^ci", group = "CI" },
	{ message = "^chore", group = "Other" },
	{ message = "^.*", group = "Other" },
]
